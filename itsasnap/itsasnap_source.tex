\documentclass[../gatm.tex]{subfiles}

\begin{document}

\begin{asydef}

int factorial(int n) { // Tail recursion... why not?
	if (n == 0 || n == 1)
		return 1;
	return n * factorial(n - 1);
}

void drawConnect(pair tloffset, int[] mapping = {0}, int cols = 3, real xd = 1, real yd = 1.5) {
	int rows = mapping.length + 1;
	for (int x = 0; x < cols; ++x) {
		for (int y = 0; y < rows; ++y) {
			if (y < rows - 1) {
				int map = mapping[y];
				int[] needs;
				int[] truemap;
				
				for (int c = 0; c < cols; ++c) needs.push(c);
				
				for (int i = 0; i < cols; ++i) {
					int fact = factorial(cols - i - 1);
					
					int egg = map # fact; // Integer division lolololol
					int indx = needs[egg];
					needs.delete(egg);
					
					map %= fact;
					
					draw((tloffset + (i * xd, -y * yd)) -- (tloffset + (indx * xd, (-y-1) * yd)));
				}
			}
			
			dot(tloffset + (x * xd, -y * yd));
		}
	}
}

\end{asydef}

\section{It's a Snap}

\newcommand\snap{\bullet}

We begin with a problem that ties together ideas from geometry, complex numbers, matrices, combinatorics, and group theory. You likely studied geometry in 9\textsuperscript{th} grade and complex numbers in 10\textsuperscript{th} grade, so you should have a basis to start your investigation. The other three words may be unfamiliar at this point. You will be coming back to this problem in a series of investigations over the coming weeks.

Consider a rectangle of posts with $n$ rows and $3$ columns. An elastic string is anchored to one post in the topmost row and one post in the bottommost row. As the string descends top to bottom, it loops taut around one post in each row. Two other elastic strings are anchored and looped in the same way, with the condition that each post has exactly one string on it; no more, no less. An example where $n=3$ is depicted in Figure ~\ref{n_rows_3_cols_ex}.

\begin{figure}

\begin{center}

\begin{asy}
size(250);

int[] indices = {0,1,5,2,4,3};
string[] labels = {"I", "A", "B", "C", "D", "E"};

for (int i = 0; i < 6; ++i) {
	int[] indx = {indices[i]};
	drawConnect((4 * i, 0), indx);
	label("$" + labels[i] + "$", (4 * i + 1, -2.5));
}
\end{asy}

\caption{The six possibilities for connections between two rows of three posts.}
\label{all_3_cols}
\end{center}

\end{figure}

\begin{figure}
\begin{minipage}{.5\textwidth}
\begin{center}

\begin{asy}
size(0, 60);

int[] ms = {2,5};

drawConnect((0, 0), ms);

draw(brace((-0.6, -3.2), (-0.6, 0.2), .3), black+1bp);
draw(brace((-0.2, 0.6), (2.2, 0.6), .3), black+1bp);

label("$n$", (-0.8, -1.5), W);
label("$3$", (1, 0.9), N);

label("$\rightarrow Y$", (2.5, -0.75), E);
label("$\rightarrow X$", (2.5, -2.25), E);

for (int i = 0; i < 3; ++i)
	dot((i, -1.5), filltype=FillDraw(fillpen=white, drawpen=black));
\end{asy}

\caption{A grid with three strings.}
\label{n_rows_3_cols_ex}
\end{center}

\end{minipage}%
\begin{minipage}{.5\textwidth}

\begin{center}
\begin{asy}
size(0, 60);

int[] indices = {0,1,5,2,4,3};
string[] labels = {"I", "A", "B", "C", "D", "E"};

int[] egg = {5, 1};

drawConnect((0, 0), egg);

int[] newf = {3};

drawConnect((5, 0), newf, 3, 1, 3);
label("$\stackrel{\mbox{\small snap!}}{\Longrightarrow}$", (3.5, -1.5));

draw(brace((-0.6, -3.2), (-0.6, 0.2), .3), white+1bp);
draw(brace((-0.2, 0.6), (2.2, 0.6), .3), white+1bp);

label("$n$", (-0.8, -1.5), W, white);
label("$3$", (1, 0.9), N, white);

label("$B \leftarrow$", (-0.5, -0.75), W);
label("$A \leftarrow$", (-0.5, -2.25), W);

label("$E$", (7.5, -1.5), E);

\end{asy}

\caption{$A\snap B = E$.}
\label{snap_ex}
\end{center}
\end{minipage}

\end{figure}

Figure ~\ref{all_3_cols} shows the six ``ways'' that two consecutive rows can be connected in this way --- convince yourself these are the only six. I have labeled them with letters $I$, $A$, $B$, $C$, $D$, and $E$.

Now, consider what happens when you look at a $3\times 3$ rectangle of posts, like the one in Figure ~\ref{n_rows_3_cols_ex}. You should have two ``ways,'' $X$ and $Y$, stacked one on top of the other so that $Y$ is on top of $X$. When you withdraw the middle posts, indicated by $\circ$, the elastic string should \textbf{snap} to a configuration identical to one of the six ways you drew initially. Note that the second way ($Y$) goes on top, and the first way ($X$) goes on the bottom. Let's call this operation snap, or $\snap$, so that $X\snap Y$ reads ``$X$ snap $Y$.'' For example, $A\snap B = E$, as shown in Figure ~\ref{snap_ex}.

These six ways, along with the operation $\snap$, form a mathematical \textit{group}, and we say that each is an \textit{element} of our group. In particular, we will call this the \textbf{snap group}. Groups are the central objects studied in \textit{group theory}, which I mentioned at the beginning of this problem. Let's study the snap group and characterize its properties.

\subsection{Problems}

% https://tex.stackexchange.com/questions/209092/how-do-i-make-every-column-the-same-width
\newcolumntype{C}{>{\centering\arraybackslash}p{1em}}

\begin{figure}
\begin{center}
\begin{tabular}{C|C|C|C|C|C|C|}
$\snap$ & $I$ & $A$ & $B$ & $C$ & $D$ & $E$ \\ \hline
$I$    &   &   &   &   &   &   \\ \hline
$A$    &   &   & $E$ &   &   &   \\ \hline
$B$    &   &   &   &   &   &   \\ \hline
$C$    &   &   &   &   &   &   \\ \hline
$D$    &   &   &   &   &   &   \\ \hline
$E$    &   &   &   &   &   &   \\ \hline
\end{tabular}
\end{center}
\caption{Unfilled $3$-post snap group table.}
\label{sbstable}
\end{figure}

\begin{enumerate}
\item Fill out a $6\times 6$ table like the one shown in Figure ~\ref{sbstable}, showing the results of each of the $6\cdot 6 = 36$ possible snaps, where $X\snap Y$ is in $X$'s row and $Y$'s column.
\item Would this table look different if you named the elements $A$ through $E$ in a different order?
\item Which of the elements is the \textit{identity element}?
\item Does every element have an inverse? In other words, is there a way to get the identity element from every element using one snap?
\item Is the snap operation commutative? That is, does $X \snap Y = Y \snap X$ for all $X,Y$?
\item Is the snap operation associative? That is, does $(X \snap Y) \snap Z = X \snap (Y\snap Z)$ for all $X,Y,Z$?
\item \begin{enumerate}
\item For given elements $X, Y$, is there always an element $Z$ so that $X\snap Z=Y$?
\item Is $Z$ always unique?
\end{enumerate}
\item What do you think is the definition of a mathematical group? (Hint: consider your answers to Problems $2$--$6$.)
\item If you constructed a $5\times 5$ table using only $5$ of the snap elements, the table would not describe a group, because there would be entries in the table requiring an element outside of these $5$. Therefore, a group must be \textit{closed} under its operation; if $X,Y\in G$, then $X\snap Y\in G$ for all $X,Y$. Some subsets, however, are closed. Write valid group tables using exactly $1$, $2$, and $3$ elements from the snap group.
\item Notice that $E\snap E\snap E=I$. (See Figure ~\ref{eper3}.) This means that $E$ has a period of $3$ when acting upon itself. Which elements have a period of $1$, $2$, and $3$?
\item \begin{enumerate}
\item How many elements would there be if there were only $2$ posts per row?
\item Draw and name them systematically.
\item Make a group table of these elements.
\item What is the relationship of this new table to your original table?
\item Answer parts (a)--(c) if there was $1$ post per row.
\item Answer parts (a), (b) and (d) if there was $4$ posts per row.
\item Would you like to make a table for the $4$-post group? How many entries would a table have?
\end{enumerate}
\item Can you think of an easier way to construct the a snap group table without drawing all the possible configurations?
\item \begin{enumerate}
\item How many elements would there be in the $5$-post snap group?
\item How many entries would its table have?
\item What possible periods would its elements have?
\item Extend your answers for (a)--(c) to $M$ posts per row.
\end{enumerate}
\item As we learned, a \textit{permutation} of some things is an order they can be arranged in. What is the relationship between the set of permutations of $M$ things and the $M$-post snap group?
\end{enumerate}

\begin{figure}
\begin{minipage}{.5\textwidth}

\begin{center}
\begin{asy}
size(0, 60);

int[] indices = {0,1,5,2,4,3};
string[] labels = {"I", "A", "B", "C", "D", "E"};

int[] egg = {3, 3, 3};

drawConnect((0, 0), egg);

int[] newf = {0};

drawConnect((5, 0), newf, 3, 1, 4.5);
label("$\stackrel{\mbox{\small snap!}}{\Longrightarrow}$", (3.5, -2.25));

\end{asy}

\caption{$E\snap E\snap E = I$; $E$ has period $3$.}
\label{eper3}
\end{center}
\end{minipage}%
\begin{minipage}{.4\textwidth}

\begin{center}
\begin{asy}
size(0, 60);

for (int i = 0; i < 24; i += 3) {
	int[] eggf = {i};
	drawConnect((5 / 3 * (i >= 12 ? (i - 12) : i), (i >= 12 ? 5 : 0)), eggf, 4); 
}
\end{asy}

\caption{Some $4$-post group elements.}
\label{fpge}
\end{center}
\end{minipage}
\end{figure}

\end{document}